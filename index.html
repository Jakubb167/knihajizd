<?php
// Konfigurace databáze
define('DB_HOST', 'sql5.webzdarma.cz:3306');
define('DB_USER', 'knihajizdwzc0250');
define('DB_PASS', 'Bardicek-210');
define('DB_NAME', 'knihajizdwzc0250');

// Mapování vozidel na tabulky
// Podporuje OBOJE: klíče z mobilní aplikace I z portálu
$vehicleTables = [
    // Klíče z mobilní aplikace (s pomlčkami)
    'cervene-iveco' => 'c_iveco',
    'iveco-mysak' => 'm_iveco',
    'atego' => 'atego',
    'peugeot' => 'peugeot',
    
    // Klíče z portálu (názvy tabulek)
    'c_iveco' => 'c_iveco',
    'm_iveco' => 'm_iveco'
];

// Vytvoření spojení s databází
function getDBConnection() {
    $conn = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_NAME);
    
    if ($conn->connect_error) {
        die(json_encode(['success' => false, 'error' => 'Chyba připojení k databázi: ' . $conn->connect_error]));
    }
    
    $conn->set_charset("utf8mb4");  // utf8mb4 je lepší než utf8 (podporuje emoji a speciální znaky)
    return $conn;
}
?>
